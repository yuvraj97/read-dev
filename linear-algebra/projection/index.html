<!DOCTYPE HTML>
<html lang="en">
    <head>

        <script>
            var isConcluded = true;
            var arrowLeftPage = "/linear-algebra/orthogonal-subspaces/"
            var arrowRightPage = "/linear-algebra/least-squares/"
        </script>

        <link rel="stylesheet" href="/data/css/main.css">
                
		<title>Projection - QuantML</title>
		<meta charset="utf-8" />
        <link rel="icon" href="/data/icon.png" type="image/png" sizes="16x16">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="robots" content="index, follow">
        <meta name="author" content="Yuvraj Garg">

        <script src="/data/js/initialize.js"></script>

	</head>   
    
    <body>

        <!-- Wrapper -->
			<div style="display: none;" id="wrapper">
                <div class="bg fixed" style="transform: none;"></div>
                <div id="navPanelToggle">Menu</div>


				<!-- Header -->
				<header id="header">
					<a href="https://quantml.org" style="display: none;" class="logo image jump-big" id="quantml-cover-light"><img src="/data/img/cover.webp" alt="QuantML.org" /></a>
					<a href="https://quantml.org" style="display: none;" class="logo image jump-big" id="quantml-cover-dark"><img src="/data/img-dark/cover.webp" alt="QuantML.org" /></a>
					<script>if(window.quantml["theme"]=="dark") document.getElementById('quantml-cover-dark').style.display = "block";else document.getElementById('quantml-cover-light').style.display = "block";</script>
				</header>

                <!-- Nav -->
                    <nav id="nav">
                        <ul class="links">
                            <li class="cover"><a href="/linear-algebra/"><img src="/data/img/linear-algebra-cover.webp" alt="Linear Algebra"></a></li>
                            <li class="active title">Projection</li>
                            <li><a href="/linear-algebra/least-squares/">Least Squares(Application of projection)</a></li>
                        </ul>
                        <ul id="nav-bar-icons-head" class="icons"></ul>
                    </nav>

<!-- Main -->
<div id="main">
    <section class="post">
<div style="text-align: center;" id="load-init"></div>
<script>initializeBody();</script>

<div id="paragraph-content" data-swipe-threshold="80">
<div id="btn-container">
    <button id="prev-btn" class="button" onclick="window.location.href = '/linear-algebra/orthogonal-subspaces/';">&#x25C0;&nbsp;&nbsp;Orthogonal Subspaces</button>
    <button id="next-btn" class="button"  style="float: right;" onclick="window.location.href = '/linear-algebra/least-squares/';">Least Squares&nbsp;&nbsp;&#x25B6;</button>
</div><br>


<p>
<!-- <h1>Projection</h1> -->

<h1 id="vec-proj">Vector Projection</h1>

<img class="full-size-img" src="/linear-algebra/img/proj-0.webp" width="184" height="136" alt="" style="float:right">
Say that we have two vector <span class="bb"><div class="quantml-katex-display inline">\(\vec{v}\in\mathbb{R}^2\)</div></span> and <span class="bb"><div class="quantml-katex-display inline">\(\vec{u}\in\mathbb{R}^2\)</div></span>.<br>
Now <b>in space of <div class="quantml-katex-display inline">\(\vec{v}\)</div></b> which vector is <b>closest</b> to <div class="quantml-katex-display inline">\(\vec{w}\)</div>?<br>
But let's first ask what is the space of <div class="quantml-katex-display inline">\(\vec{v}\)</div>?<br>

<br>
<blockquote>    
    We are asking for the space of <b>a single vector</b>, a single vector can only give us a
    space in <div class="quantml-katex-display inline">\(\mathbb{R}\)</div> which is a <b>line</b>.<br>
    So the <b>span</b> of <div class="quantml-katex-display inline">\(\vec{v}\)</div> is <div class="quantml-katex-display inline">\(C\vec{v};\quad C\in\mathbb{R}\)</div> 
</blockquote>
Now we have to find a vector <b>closest</b> to <div class="quantml-katex-display inline">\(\vec{w}\)</div> in the <b>vector space</b> of <div class="quantml-katex-display inline">\(\vec{v}\)</div>.<br>
Let's call this <b>closest</b> vector as <div class="quantml-katex-display inline">\(\vec{p}\)</div>, 
this <div class="quantml-katex-display inline">\(\vec{p}\)</div> is the projection of <div class="quantml-katex-display inline">\(\vec{w}\)</div> on <div class="quantml-katex-display inline">\(\vec{v}\)</div>.<br>
We know that <div class="quantml-katex-display inline">\(\vec{p}\)</div> lives in the <b>vector space</b> of <div class="quantml-katex-display inline">\(\vec{v}\)</div>.<br>
So <span class="bb"><div class="quantml-katex-display inline">\(\vec{p}=x\vec{v};\quad x\in\mathbb{R}\)</div></span>.<br>
<div class="quantml-katex-display inline">\(\vec{p}\)</div> is the <b>closest</b> vector to <div class="quantml-katex-display inline">\(\vec{w}\)</div> then the vector joining 
<div class="quantml-katex-display inline">\(\vec{p}\)</div> to <div class="quantml-katex-display inline">\(\vec{w}\)</div> is perpendicular to <div class="quantml-katex-display inline">\(\vec{v}\)</div>.<br>
Say the vector joining <div class="quantml-katex-display inline">\(\vec{p}\)</div> to <div class="quantml-katex-display inline">\(\vec{w}\)</div> be <div class="quantml-katex-display inline">\(\vec{e}\)</div>, and <div class="quantml-katex-display inline">\(\vec{e} = \vec{w}-\vec{p}\)</div>
So,<br>
<blockquote class="noborder">
<div class="quantml-katex-display inline">\(\vec{v}\cdot \vec{e} =0\)</div><br>
<div class="quantml-katex-display inline">\(\Rightarrow \vec{v}^T \vec{e} =0\)</div><br>
<div class="quantml-katex-display inline">\(\Rightarrow \vec{v}^T (\vec{w} -\vec{p})=0\)</div><br>
<div class="quantml-katex-display inline">\(\Rightarrow \vec{v}^T (\vec{w} -x\vec{v})=0\)</div><br>
<div class="quantml-katex-display inline">\(\Rightarrow \vec{v}^T \vec{w} -x\vec{v}^T\vec{v}=0\)</div><br>
</blockquote>
<div class="quantml-katex-display">\[\Rightarrow x=\frac{\vec{v}^T \vec{w}}{\vec{v}^T\vec{v}} \in\mathbb{R}\]</div>
<b>Projection</b> of <div class="quantml-katex-display inline">\(\vec{w}\)</div> on <div class="quantml-katex-display inline">\(\vec{v}\)</div> is <span class="bb"><div class="quantml-katex-display inline">\(\vec{p}=\vec{v}x\)</div></span><br>
<br>
<h1 id="vector-projection-matrix">Projection Matrix of a vector</h1>
Say we have a vector <span class="bb"><div class="quantml-katex-display inline">\(\vec{v}\in\mathbb{R}^n\)</div></span> now we want a <b>matrix</b> that gives us projection 
of <b>any</b> vector onto this vector <div class="quantml-katex-display inline">\(\vec{v}\)</div>, we call this matrix a <b>projection matrix</b>.<br>
Say this projected vector on <div class="quantml-katex-display inline">\(\vec{v}\)</div> be <div class="quantml-katex-display inline">\(\vec{p}\)</div>.<br>
As we discussed above,<br>
<div class="quantml-katex-display inline">\(\vec{p}=\vec{v}x\)</div><br>
<div class="quantml-katex-display inline">\(\displaystyle \Rightarrow \vec{p}= \vec{v} \frac{\vec{v}^T \vec{w}}{\vec{v}^T\vec{v}}\)</div><br>
<div class="quantml-katex-display inline">\(\displaystyle \Rightarrow \vec{p}= \frac{\vec{v} \vec{v}^T}{\vec{v}^T\vec{v}} \vec{w}\)</div><br>
<br>
Projection matrix<div class="quantml-katex-display inline">\((P)\)</div> of a vector <div class="quantml-katex-display inline">\(\vec{v}\)</div> is

<div class="l1 border">
<div class="quantml-katex-display">\[    
    \begin{matrix}

    % equation
    \displaystyle P=\frac{\vec{v}\ \vec{v}^T}{\vec{v}^T\vec{v}} 
    %equation

    \end{matrix}
\]</div>
</div>

<li>Columns of <div class="quantml-katex-display inline">\(P\)</div> is the <b>linear combinations</b> of <div class="quantml-katex-display inline">\(\vec{v}\)</div>, so </li>
<blockquote>    
Column space of <div class="quantml-katex-display inline">\(P\)</div> is the vector space of <div class="quantml-katex-display inline">\(\vec{v}\)</div>.<br>
</blockquote>

<li>We have our <b>Projection matrix</b><div class="quantml-katex-display inline">\((P)\)</div> we can take <b>projection</b> of any vector 
<div class="quantml-katex-display inline">\(\vec{w}\)</div> on <div class="quantml-katex-display inline">\(\vec{v}\)</div> by evaluating <div class="quantml-katex-display inline">\(P\vec{w}\)</div></li>
<blockquote>    
In <div class="quantml-katex-display inline">\(P\vec{w}\)</div> we are taking the <b>linear combination</b> of <div class="quantml-katex-display inline">\(\vec{v}\)</div> so the resultant 
projection of <div class="quantml-katex-display inline">\(\vec{w}\)</div> on <div class="quantml-katex-display inline">\(\vec{v}\)</div> lives in the <b>vector space</b> of <div class="quantml-katex-display inline">\(\vec{v}\)</div>.<br>
</blockquote>

<li>What about the <b>rank</b> of <div class="quantml-katex-display inline">\(P\)</div>?</li>
<blockquote>    
Rank of <div class="quantml-katex-display inline">\(P\)</div> is <div class="quantml-katex-display inline">\(1\)</div>.<br>
Because all the columns of <div class="quantml-katex-display inline">\(P\)</div> is the <b>linear combination</b> of a <b>single vector</b> <div class="quantml-katex-display inline">\(\vec{v}\)</div>.
</blockquote>

<li>Is <div class="quantml-katex-display inline">\(P\)</div> <b>symmetric</b>?</li>
<div class="quantml-katex-display inline">\(\displaystyle P= \frac{\vec{v} \vec{v}^T}{\vec{v}^T\vec{v}} \)</div><br>
<div class="quantml-katex-display inline">\(\displaystyle \Rightarrow P^T = \frac{(\vec{v} \vec{v}^T)^T}{\vec{v}^T\vec{v}} \)</div><br>
<div class="quantml-katex-display inline">\(\displaystyle \Rightarrow P^T = \frac{\vec{v}^{T^T}  \vec{v}^T}{\vec{v}^T\vec{v}} \)</div><br>
<div class="quantml-katex-display inline">\(\displaystyle \Rightarrow P^T = \frac{\vec{v} \vec{v}^T}{\vec{v}^T\vec{v}} \)</div><br>
So <div class="quantml-katex-display inline">\(P\)</div> is symmetric.
<blockquote>    
<div class="quantml-katex-display">\[P=P^T\]</div>
</blockquote>

<li>What if we apply the projection of a vector <div class="quantml-katex-display inline">\(\vec{w}\)</div> on <div class="quantml-katex-display inline">\(\vec{v}\)</div> <b>twice</b>?</li>
When we apply the <b>projection</b> first time, we land in the <b>vector space</b> of <div class="quantml-katex-display inline">\(\vec{v}\)</div>.<br>
Let's say the projected vector be <div class="quantml-katex-display inline">\(\vec{p}_1\)</div>.<br>
If we again apply the <b>projection</b> on <div class="quantml-katex-display inline">\(\vec{p}_1\)</div> then it project the <div class="quantml-katex-display inline">\(\vec{p_1}\)</div> 
into the vector space of <div class="quantml-katex-display inline">\(\vec{v}\)</div>.<br>
But <div class="quantml-katex-display inline">\(\vec{p}_1\)</div> is already in <b>vector space</b> of <div class="quantml-katex-display inline">\(\vec{v}\)</div>, so the second projection did nothing.<br>
So we can say that 
<blockquote>    
<div class="quantml-katex-display">\[P^2=P\]</div>
</blockquote><br>
<br>
<h1 id="why-project">Why are we doing projection?</h1>
Ok we can find the projection of a vector on another vector, <b>but why</b> are we projecting the
vector in the first place?<br>
<b>What is the benefit of projecting a vector?</b><br>
<span id="example"></span>
Say a function <div class="quantml-katex-display inline">\(f=x_1 a+ x_2 b+ x_3 c\)</div> is governed by 3 variables (say <div class="quantml-katex-display inline">\(a,b,c\)</div>) and we have <div class="quantml-katex-display inline">\(5\)</div> <b>noisy</b>
observation of <div class="quantml-katex-display inline">\(f\)</div> now we want to predict <div class="quantml-katex-display inline">\(f\)</div> for some set of <div class="quantml-katex-display inline">\((a,b,c)\)</div>.<br>
Because our <div class="quantml-katex-display inline">\(5\)</div> observations are <b>noisy</b>  so we <b>can not</b> perfectly predict the outcome.<br>
Our observation is something like,<br>
<div class="quantml-katex-display inline">\(f_1=x_1 a_1+ x_2 b_1+ x_3 c_1\)</div><br>
<div class="quantml-katex-display inline">\(f_2=x_1 a_2+ x_2 b_2+ x_3 c_2\)</div><br>
<div class="quantml-katex-display inline">\(f_3=x_1 a_3+ x_2 b_3+ x_3 c_3\)</div><br>
<div class="quantml-katex-display inline">\(f_4=x_1 a_4+ x_2 b_4+ x_3 c_4\)</div><br>
<div class="quantml-katex-display inline">\(f_5=x_1 a_5+ x_2 b_5+ x_3 c_5\)</div><br>
We can write it as,<br>
<div class="quantml-katex-display inline">\(\begin{bmatrix}
a_1 & b_1 & c_1\\
a_2 & b_2 & c_2\\
a_3 & b_3 & c_3\\
a_4 & b_4 & c_4\\
a_5 & b_5 & c_5\\
\end{bmatrix}
\begin{bmatrix}
x_1\\
x_2\\
x_3\\
\end{bmatrix}
=
\begin{bmatrix}
f_1\\
f_2\\
f_3\\
f_4\\
f_5\\
\end{bmatrix}
\)</div><br>

Here <div class="quantml-katex-display inline">\(x_1 , x_2 , x_3\)</div> are our parameters(unknown), so our parameter
space is <div class="quantml-katex-display inline">\(\mathbb{R}^5\)</div>.<br>
We want to find a <div class="quantml-katex-display inline">\(4\)</div> dimensional plane that best fit our <b>noisy</b> data.<br>
Say
<div class="quantml-katex-display inline">\(\begin{bmatrix} a_1 \\ a_2 \\ a_3 \\ a_4 \\ a_5 \\ \end{bmatrix} = \vec{a},\quad\)</div>
<div class="quantml-katex-display inline">\(\begin{bmatrix} b_1 \\ b_2 \\ b_3 \\ b_4 \\ b_5 \\ \end{bmatrix} = \vec{b},\quad\)</div>
<div class="quantml-katex-display inline">\(\begin{bmatrix} c_1 \\ c_2 \\ c_3 \\ c_4 \\ c_5 \\ \end{bmatrix} = \vec{c},\quad\)</div>

 <div class="quantml-katex-display inline">\(\begin{bmatrix}
a_1 & b_1 & c_1\\
a_2 & b_2 & c_2\\
a_3 & b_3 & c_3\\
a_4 & b_4 & c_4\\
a_5 & b_5 & c_5\\
\end{bmatrix}= \mathbb{A}, \quad\)</div>
<div class="quantml-katex-display inline">\(\begin{bmatrix}
x_1\\
x_2\\
x_3\\
\end{bmatrix}=\mathbb{X},\quad\)</div>
and 
<div class="quantml-katex-display inline">\(\begin{bmatrix}
f_1\\
f_2\\
f_3\\
f_4\\
f_5\\
\end{bmatrix}
=\mathbb{Y}\)</div><br>
So <span class="bb"><div class="quantml-katex-display inline">\(\mathbb{A}\mathbb{X}=\mathbb{Y}\)</div></span><br>
Our data is <b>noisy</b>.<br>
<span class="bb"><div class="quantml-katex-display inline">\(\text{Rank}(\mathbb{A})\leq 3\)</div></span>,
<span class="bb"> <div class="quantml-katex-display inline">\(\mathbb{X}\in\mathbb{R}^3\)</div></span>,
<span class="bb"> <div class="quantml-katex-display inline">\(\mathbb{Y}\in\mathbb{R}^5\)</div></span>.<br>
So there are <b>high chance</b> that <div class="quantml-katex-display inline">\(\mathbb{Y}\)</div> does <b>not</b> lives in <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>.<br> 
So <b>instead</b> we find the solution for <span class="bb"><div class="quantml-katex-display inline">\(\mathbb{A}\widehat{\mathbb{X}}=\widehat{\mathbb{Y}}\)</div></span>.<br>
Where <div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}\)</div> lives in the column space of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div> <b>and</b> <div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}\)</div>
is <b>closest</b> to <div class="quantml-katex-display inline">\(\mathbb{Y}\)</div>
<blockquote>    
We can get this <div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}\)</div> by taking the <b>projection</b> of <div class="quantml-katex-display inline">\(\mathbb{Y}\)</div>
onto the <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>
</blockquote><br>

<h1 id="matrix-projection">Matrix Projection</h1>
Say that we have a <div class="quantml-katex-display inline">\(m\times n\)</div> matrix <span class="bb"><div class="quantml-katex-display inline">\(\mathbb{A}\in\mathbb{R}^{m\times n}\)</div></span> and a vector 
<span class="bb"><div class="quantml-katex-display inline">\(\vec{v}\in\mathbb{R}^n\)</div></span>.<br>
Then <b>projection</b> of a vector <div class="quantml-katex-display inline">\(\vec{v}\)</div> on a matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div> <i>generally</i> means <b>projection</b>
of <div class="quantml-katex-display inline">\(\vec{v}\)</div> on the <b>column space</b> of matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>.<br>
We can also take the <b>projection</b> of a vector <div class="quantml-katex-display inline">\(\vec{v}\)</div> on the <b>null space</b> of matrix <div class="quantml-katex-display inline">\(\mathbb{A}^T\)</div>.<br>
And as we know that <b>null space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}^T\)</div> is <b>perpendicular</b> to the <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>.<br>
Then,

<blockquote>
Projection of a vector <div class="quantml-katex-display inline">\(\vec{v}\)</div> on the,<br>
<li><b>null space</b> of matrix <div class="quantml-katex-display inline">\(\mathbb{A}^T\)</div>, and</li>
<li><b>column space</b> of matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div></li>
collectively gives us back our vector <div class="quantml-katex-display inline">\(\vec{v}\)</div>
</blockquote><br>

<h2 id="matrix-projection-column">Projection onto the column space of a matrix</h2>
Recall our <a  href="/linear-algebra/projection/#example">previous example</a>, 
here we have a system of equation <span class="bb"><div class="quantml-katex-display inline">\(\mathbb{A}\mathbb{X}=\mathbb{Y}\)</div></span> where there is <b>no solution</b>.<br>
Here problem was that there are <b>high chance</b> that <div class="quantml-katex-display inline">\(\mathbb{Y}\)</div> does <b>not</b> lives in <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>, 
So it does <b>not</b> have a solution.<br> 
So we go for the <b>closest</b> solution.<br>
<span class="bb"><div class="quantml-katex-display inline">\(\mathbb{A}\widehat{\mathbb{X}}=\widehat{\mathbb{Y}}\)</div></span><br>
where, <div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}\)</div> lives in the <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>, so.<br>
<!--(And we put a <b>hat</b> on<div class="quantml-katex-display inline">\(\mathbb{X}\)</div> just to show that it's the estimated <div class="quantml-katex-display inline">\(\mathbb{X}\)</div>).<br>-->
<blockquote>
<div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}\)</div> is the <b>linear combinations</b> of the columns of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>.
</blockquote>
(vector)<div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}\)</div> lives in the column space <div class="quantml-katex-display inline">\(\mathbb{A}\)</div> <b>and</b> 
(vector)<div class="quantml-katex-display inline">\(\mathbb{Y}\)</div> is at some angle to the column space of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>, So <br>
<blockquote>
The vector <div class="quantml-katex-display inline">\(\mathbb{Y} - \widehat{\mathbb{Y}}\)</div> is perpendicular to the <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>
</blockquote>
<div class="quantml-katex-display inline">\(\Rightarrow \mathbb{Y} - \widehat{\mathbb{Y}}\)</div> is also perpendicular to the column <b>vectors</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div><br>
<div class="quantml-katex-display inline">\(\Rightarrow\)</div> <span class="bb"><div class="quantml-katex-display inline">\(\vec{a}^T (\mathbb{Y} - \widehat{\mathbb{Y}})=0\)</div></span>, 
<span class="bb"><div class="quantml-katex-display inline">\(\vec{b}^T (\mathbb{Y} - \widehat{\mathbb{Y}})=0\)</div></span> and
<span class="bb"><div class="quantml-katex-display inline">\(\vec{c}^T (\mathbb{Y} - \widehat{\mathbb{Y}})=0\)</div></span>
where <div class="quantml-katex-display inline">\(\vec{a},\)</div> <div class="quantml-katex-display inline">\(\vec{b}\)</div> and <div class="quantml-katex-display inline">\(\vec{c}\)</div> are the column vector of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>.<br>
We can write it as,<br>

<div class="l1 border">
<div class="quantml-katex-display">\[    
    \begin{matrix}

    % equation
    \displaystyle \mathbb{A}^T(\mathbb{Y} - \widehat{\mathbb{Y}})=0
    %equation

    \end{matrix}
\]</div>
</div>

Notice that <div class="quantml-katex-display inline">\(\mathbb{Y} - \widehat{\mathbb{Y}}\)</div> lives in <div class="quantml-katex-display inline">\((N(A^T))\)</div>
<li>The <a  href="/linear-algebra/fundamental-subspaces/#left-null-space">Left Null Space</a>
of matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div> OR say </li>
<li>The <a  href="/linear-algebra/null-space/">Null Space</a> of <div class="quantml-katex-display inline">\(\mathbb{A}^T\)</div>.<br></li> 
And <b>Null Space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}^T\)</div> is <b>perpendicular</b> to the <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>.<br>
<blockquote>    
So <div class="quantml-katex-display inline">\(\mathbb{Y} - \widehat{\mathbb{Y}}\)</div> is  <b>perpendicular</b> to the <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>.<br>
</blockquote>
<div class="quantml-katex-display inline">\(\mathbb{A}^T(\mathbb{Y} - \widehat{\mathbb{Y}})=0\)</div> <b>and</b> <div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}=\mathbb{A}\widehat{\mathbb{X}}\)</div><br>
<div class="quantml-katex-display inline">\(\Rightarrow \mathbb{A}^T(\mathbb{Y} - \mathbb{A}\widehat{\mathbb{X}})=0\)</div><br>
<div class="quantml-katex-display inline">\(\Rightarrow \mathbb{A}^T \mathbb{Y} - \mathbb{A}^T\mathbb{A}\widehat{\mathbb{X}}=0\)</div><br>
<div class="quantml-katex-display inline">\(\Rightarrow \mathbb{A}^T\mathbb{A}\widehat{\mathbb{X}}=\mathbb{A}^T \mathbb{Y}\)</div><br>

<div class="l1 border">
<div class="quantml-katex-display">\[    
    \begin{matrix}

    % equation
    \displaystyle \widehat{\mathbb{X}}=\left(\mathbb{A}^T\mathbb{A}\right)^{-1}\mathbb{A}^T \mathbb{Y}
    %equation

    \end{matrix}
\]</div>
</div>

Our <b>projection</b> of <div class="quantml-katex-display inline">\(\mathbb{Y}\)</div> on the columnn space of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div> is <div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}\)</div> .<br>
<span class="bb"><div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}=\mathbb{A}\widehat{\mathbb{X}}\)</div></span> and <span class="bb"><div class="quantml-katex-display inline">\(\widehat{\mathbb{X}}=(\mathbb{A}^T\mathbb{A})^{-1}\mathbb{A}^T \mathbb{Y}\)</div></span>, so<br>
<br>
<li>Projection<div class="quantml-katex-display inline">\((\widehat{\mathbb{Y}})\)</div> of <div class="quantml-katex-display inline">\(\mathbb{Y}\)</div> on the <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>:</li>

<div class="l1 border">
<div class="quantml-katex-display">\[    
    \begin{matrix}

    % equation
    \displaystyle \widehat{\mathbb{Y}}=\mathbb{A}\left(\mathbb{A}^T\mathbb{A}\right)^{-1}\mathbb{A}^T \mathbb{Y}
    %equation

    \end{matrix}
\]</div>
</div>

<br>
So our <b>Projection Matrix</b> is, 

<div class="l1 border">
<div class="quantml-katex-display">\[    
    \begin{matrix}

    % equation
    \displaystyle P=\mathbb{A}\left(\mathbb{A}^T\mathbb{A}\right)^{-1}\mathbb{A}^T
    %equation

    \end{matrix}
\]</div>
</div>

<li>Is <div class="quantml-katex-display inline">\(P\)</div> <b>symmetric</b>?</li>
<div class="quantml-katex-display inline">\(\displaystyle P= \mathbb{A}(\mathbb{A}^T\mathbb{A})^{-1}\mathbb{A}^T\)</div><br>
<div class="quantml-katex-display inline">\(\displaystyle \Rightarrow P^T = \left(\mathbb{A}(\mathbb{A}^T\mathbb{A})^{-1}\mathbb{A}^T\right)^T\)</div><br>
<div class="quantml-katex-display inline">\(\displaystyle \Rightarrow P^T = \mathbb{A}^{T^T}((\mathbb{A}^T\mathbb{A})^{-1})^T\mathbb{A}^T\)</div><br>
<div class="quantml-katex-display inline">\(\displaystyle \Rightarrow P^T = \mathbb{A}^{T^T}\left((\mathbb{A}^T\mathbb{A})^T\right)^{-1}\mathbb{A}^T\)</div><br>
<div class="quantml-katex-display inline">\(\displaystyle \Rightarrow P^T = \mathbb{A}^{T^T}(\mathbb{A}^T\mathbb{A}^{T^T})^{-1}\mathbb{A}^T\)</div><br>
<div class="quantml-katex-display inline">\(\displaystyle \Rightarrow P^T = \mathbb{A}(\mathbb{A}^T\mathbb{A})^{-1}\mathbb{A}^T\)</div><br>
So <div class="quantml-katex-display inline">\(P\)</div> is symmetric.
<blockquote>    
<div class="quantml-katex-display">\[P=P^T\]</div>
</blockquote><br>

<li>What if we project <b>vector</b> <div class="quantml-katex-display inline">\(\mathbb{Y}\)</div> on the <b>column space</b> of a matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div> of a matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div> <b>twice</b>?</li>
When we apply the <b>projection</b> first time, we land in the <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>.<br>
Let's say the projected vector be <div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}\)</div>.<br>
If we again project the <div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}\)</div> on the <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div> 
then the resultant vector will be <div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}\)</div>.<br>
Because <div class="quantml-katex-display inline">\(\widehat{\mathbb{Y}}\)</div> is already in <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>, so the second projection did nothing.<br>
So we can say that 
<blockquote>    
<div class="quantml-katex-display">\[P^2=P\]</div>
</blockquote><br>
Let's look at the extreme cases,<br>
Suppose we want to take projection of a vector <div class="quantml-katex-display inline">\(\vec{b}\)</div> in the <b>column space</b> of a matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>.<br>

<div class="quantml-katex-display inline">\(1.\)</div> <b>What If the vector <div class="quantml-katex-display inline">\(\vec{b}\)</div> is <b>perpendicular</b> to the <b>column space</b> of matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>?</b>
<dl><dd>
    First let's think about the space of vector<b>s</b> who are <b>perpendicular</b> to the <b>column space</b> of matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>.<br>
    Space <b>perpendicular</b> to the <b>column space</b> is <b>Null space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}^T\)</div>.<br>
    So <div class="quantml-katex-display inline">\(\vec{b}\)</div> lives in the <b>Null space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}^T\)</div>.<br>
    So, 
    <blockquote>    
    <div class="quantml-katex-display inline">\(\mathbb{A}^T\vec{b}=\vec{0}\)</div>
    </blockquote>
    <li><b>projection matrix</b><div class="quantml-katex-display inline">\((P)\)</div> of the <b>column space</b> of a matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div> is,</li>
    <blockquote>    
        <div class="quantml-katex-display inline">\(P= \mathbb{A}(\mathbb{A}^T\mathbb{A})^{-1}\mathbb{A}^T\)</div>        
    </blockquote>
    And <b>projection</b><div class="quantml-katex-display inline">\(P\)</div> of <div class="quantml-katex-display inline">\(\vec{b}\)</div> in the <b>column space</b> of a matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div> is <div class="quantml-katex-display inline">\(P\vec{b}\)</div> <br>
    <div class="quantml-katex-display inline">\(P\vec{b}= \mathbb{A}(\mathbb{A}^T\mathbb{A})^{-1}\underbrace{\mathbb{A}^T\vec{b}}_{=\vec{0}}=\vec{0}\)</div>
</dd></dl><div class="quantml-katex-display inline">\(2.\)</div> <b>What If the vector <div class="quantml-katex-display inline">\(\vec{b}\)</div> is <b>in</b> the <b>column space</b> of <div class="quantml-katex-display inline">\(m\times n\)</div> matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>?</b>
<dl><dd>
    <b>Vectors</b> in the <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div> is the <b>linear combinations</b> of the column vectors of matrix<div class="quantml-katex-display inline">\(\mathbb{A}\)</div>.<br>
    We can write the all the linear combinations of matrix all as <div class="quantml-katex-display inline">\(\mathbb{A}\vec{x};\quad\vec{x}\in\mathbb{R}^n\)</div>.<br>
    And we are saying that  <div class="quantml-katex-display inline">\(\vec{b}\)</div> is <b>in</b> the <b>column space</b> of matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>, so ,<br>
    <blockquote>
    <div class="quantml-katex-display inline">\(\vec{b}=\mathbb{A}\vec{x};\quad\vec{x}\in\mathbb{R}^n\)</div>.
    </blockquote>
    So <b>projection</b><div class="quantml-katex-display inline">\(P\)</div> of <div class="quantml-katex-display inline">\(\vec{b}\)</div> in the <b>column space</b> of a matrix <div class="quantml-katex-display inline">\(\mathbb{A}\)</div> is <div class="quantml-katex-display inline">\(P\vec{b}\)</div> <br>
    <div class="quantml-katex-display inline">\(P\vec{b}= \mathbb{A}(\mathbb{A}^T\mathbb{A})^{-1}\mathbb{A}^T\vec{b}\)</div>.<br>
    <div class="quantml-katex-display inline">\(P\vec{b}= \mathbb{A}\underbrace{(\mathbb{A}^T\mathbb{A})^{-1}\mathbb{A}^T\mathbb{A}}_{\mathcal{I}(  identity)}\vec{x}\)</div>.<br>
    <div class="quantml-katex-display inline">\(P\vec{b}= \mathbb{A}\vec{x}\)</div>.<br>
    <div class="quantml-katex-display inline">\(P\vec{b}= \vec{b}\)</div>.<br>
    So projecting <div class="quantml-katex-display inline">\(\vec{b}\)</div>(which is already in the column space of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>) on the the <b>column space</b> of <div class="quantml-katex-display inline">\(\mathbb{A}\)</div>
    changes nothing.<br>
</dd></dl>
</p>



</div>
<div id="btn-container">
    <button id="prev-btn" class="button" onclick="window.location.href = '/linear-algebra/orthogonal-subspaces/';">&#x25C0;&nbsp;&nbsp;Orthogonal Subspaces</button>
    <button id="next-btn" class="button"  style="float: right;" onclick="window.location.href = '/linear-algebra/least-squares/';">Least Squares&nbsp;&nbsp;&#x25B6;</button></div><br>
    <div id="modals-html"></div>

</section>
</div><!-- Main [END]-->
</div><!-- Wrapper [END]-->
<script>requireScript('script-js', '0.1.0', '/data/js/script.js', function(){cssLoaded()})</script>

</body>
</html>